module.identity.data.local_file.pgp_key: Reading...
module.identity.data.local_file.pgp_key: Read complete after 0s [id=bf94b64c8e07c838255c740fe44d09de9b0fe8bf]
module.networking.data.aws_availability_zones.available: Reading...
module.identity.aws_iam_group.administrators: Refreshing state... [id=administrators]
module.identity.aws_iam_user.devadmin: Refreshing state... [id=dev-admin]
module.networking.aws_vpc.efs_vpc: Refreshing state... [id=vpc-06a2930917c507ce2]
module.networking.aws_eip.efs_natgw_eip[0]: Refreshing state... [id=eipalloc-0ab16259135b4cc9b]
module.networking.data.aws_availability_zones.available: Read complete after 0s [id=us-east-1]
module.networking.random_shuffle.az_list: Refreshing state... [id=-]
module.identity.aws_iam_access_key.dev_iam_admin_keys: Refreshing state... [id=AKIAX3HPOH57GTZOGLER]
module.identity.aws_iam_user_group_membership.admins-membership: Refreshing state... [id=terraform-20220922140845646000000001]
module.identity.aws_iam_group_policy_attachment.administrators-attach: Refreshing state... [id=administrators-20220922112213679500000001]
module.networking.aws_route_table.efs_public_rt: Refreshing state... [id=rtb-0f7262a971bccbda9]
module.networking.aws_internet_gateway.efs_internet_gateway: Refreshing state... [id=igw-0eb56b8ceb2b8e53f]
module.networking.aws_subnet.efs_public_subnet[0]: Refreshing state... [id=subnet-05a15868d275e472f]
module.networking.aws_default_route_table.default_vpc_main_route_table: Refreshing state... [id=rtb-00eb9f35ab0e73339]
module.networking.aws_subnet.efs_private_subnet[0]: Refreshing state... [id=subnet-070bb79ad335f7f42]
module.networking.aws_route_table.efs_private_rt: Refreshing state... [id=rtb-02a415e92419b9a7c]
module.networking.aws_security_group.efs_sg_ecs_task: Refreshing state... [id=sg-0de6d63705ded2fb4]
module.networking.aws_security_group.efs_sg_alb: Refreshing state... [id=sg-0f0b2eac724148b4d]
module.networking.aws_route.default_public_route: Refreshing state... [id=r-rtb-0f7262a971bccbda91080289494]
module.networking.aws_route_table_association.efs_public_assoc[0]: Refreshing state... [id=rtbassoc-03d224172a00aea22]
module.networking.aws_nat_gateway.efs_natgw[0]: Refreshing state... [id=nat-0f273e27f116010aa]
module.networking.aws_route_table_association.efs_private_assoc[0]: Refreshing state... [id=rtbassoc-0da4ffd265e34a96f]
module.networking.aws_route.default_private_route[0]: Refreshing state... [id=r-rtb-02a415e92419b9a7c1080289494]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # module.ecr.aws_ecr_lifecycle_policy.efs_ecr_policy will be created
  + resource "aws_ecr_lifecycle_policy" "efs_ecr_policy" {
      + id          = (known after apply)
      + policy      = jsonencode(
            {
              + rules = [
                  + {
                      + action       = {
                          + type = "expire"
                        }
                      + description  = "keep last 3 images"
                      + rulePriority = 1
                      + selection    = {
                          + countNumber = 3
                          + countType   = "imageCountMoreThan"
                          + tagStatus   = "any"
                        }
                    },
                ]
            }
        )
      + registry_id = (known after apply)
      + repository  = "efs-aws-ecr"
    }

  # module.ecr.aws_ecr_repository.efs_ecr will be created
  + resource "aws_ecr_repository" "efs_ecr" {
      + arn                  = (known after apply)
      + id                   = (known after apply)
      + image_tag_mutability = "MUTABLE"
      + name                 = "efs-aws-ecr"
      + registry_id          = (known after apply)
      + repository_url       = (known after apply)
      + tags_all             = (known after apply)

      + image_scanning_configuration {
          + scan_on_push = false
        }
    }

Plan: 2 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  + aws_efs_ecr_repository_arn = (known after apply)
  + aws_efs_ecr_repository_url = (known after apply)

─────────────────────────────────────────────────────────────────────────────

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
